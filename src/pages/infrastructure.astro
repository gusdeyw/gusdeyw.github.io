---
import AppInfrastructure from "../components/AppInfrastructure.astro";
import { siteConfig } from "../config";
import "../styles/global.css";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link
            rel="icon"
            type="image/svg+xml"
            href={import.meta.env.BASE_URL + "favicon.svg"}
        />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <meta
            name="description"
            content="Infrastructure visualization - Tech stack and deployment architecture"
        />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
            rel="stylesheet"
        />
        <title>Infrastructure - {siteConfig.name}</title>
    </head>
    <body class="bg-gray-50 dark:bg-gray-900">
        <!-- Theme initialization script -->
        <script is:inline>
            (function () {
                const savedTheme = localStorage.getItem("theme");
                const systemTheme = window.matchMedia(
                    "(prefers-color-scheme: dark)",
                ).matches
                    ? "dark"
                    : "light";
                const currentTheme = savedTheme || systemTheme;

                if (currentTheme === "dark") {
                    document.documentElement.classList.add("dark");
                }
            })();
        </script>

        <AppInfrastructure />
    </body>
</html>
